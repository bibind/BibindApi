# ========================================
# Configuration générale de l'application
# ========================================
APP_NAME=BindingAPI
APP_ENV=development
APP_PORT=8000
LOG_LEVEL=info

# ----------------------------------------
# Base de données (Backend général)
# ----------------------------------------
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_NAME=bindingapi
DATABASE_USER=admin
DATABASE_PASSWORD=password
DATABASE_URL=postgresql://admin:password@localhost:5432/bindingapi

# ========================================
# Variables Authentification et Sécurité
# ========================================
SECRET_KEY=change_this_secret_key
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# ----------------------------------------
# OIDC / Hydra Configuration
# ----------------------------------------
OIDC_AUTHORIZATION_URL=http://hydra.iam.svc.cluster.local:4444/oauth2/auth  # DNS interne si Microk8s ou K8s
OIDC_TOKEN_URL=http://hydra.iam.svc.cluster.local:4444/oauth2/token
OIDC_CLIENT_ID=bibindapi-client
OIDC_CLIENT_SECRET_FILE=secrets/oidc_client_secret
OIDC_REDIRECT_URI=http://bibindapi.svc.cluster.local/auth/callback

HYDRA_ISSUER_URL=http://localhost:4444
HYDRA_SYSTEM_SECRET=secretSuperSecure12345  # Remplacé en local via .env.local

# ========================================
# Terraform Variables
# ========================================
TERRAFORM_BINARY=/usr/bin/terraform
TERRAFORM_WORKSPACE=dev_workspace
TF_VAR_project_name=BindingAPI-project

# ========================================
# Juju Configuration
# ========================================
JUJU_CONTROLLER=default
JUJU_MODEL=bindingapi-model
JUJU_USER=admin
JUJU_PASSWORD=admin-password
JUJU_OPENSTACK_CLOUD_NAME=bibind-openstack
JUJU_OPENSTACK_MODEL_NAME=openstack-bibind-model
JUJU_IMAGE_ID=5a5cdfbb-1234-5678-9000-a1b2c3d4e5f6
JUJU_NETWORK_ID=874d3241-5678-1234-9000-ffeeddccbbaa

# ========================================
# Vault Configuration
# ========================================
VAULT_ADDR=http://127.0.0.1:8200
VAULT_TOKEN=secret-token

# ========================================
# Configuration du Frontend
# ========================================
VITE_API_URL=http://localhost:8000

# ========================================
# GitLab API Configuration (Services CI/CD)
# ========================================
GITLAB_HOSTNAME=https://gitlab.bibind.com
GITLAB_API_TOKEN_FILE=secrets/gitlab_token
GITLAB_API_VERSION=v4

# ========================================
# AWX API Configuration (Automation)
# ========================================
AWX_HOSTNAME=https://awx.bibind.com
AWX_USERNAME=admin
AWX_PASSWORD_FILE=secrets/awx_password
AWX_API_VERSION=v2

# ========================================
# OpenStack API Configuration
# ========================================
OS_AUTH_URL=https://openstack.bibind.com:5000/v3
OS_USERNAME=openstack_admin
OS_PASSWORD_FILE=secrets/openstack_password
OS_PROJECT_NAME=admin
OS_DOMAIN_NAME=Default
OS_REGION_NAME=regionOne

# ========================================
# Ports généraux des services containers (docker-compose metadata)
# ========================================
POSTGRES_PORT=5432
ODOO_PORT=8069
API_PORT=8000
GITLAB_PORT=8080
GITLAB_SSH_PORT=2222
HYDRA_PUBLIC_PORT=4444
HYDRA_ADMIN_PORT=4445
KRATOS_PUBLIC_PORT=4433
KRATOS_ADMIN_PORT=4434